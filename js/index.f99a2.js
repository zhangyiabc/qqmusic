!function(t){function e(e){for(var i,r,s=e[0],l=e[1],u=e[2],d=0,h=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&h.push(o[r][0]),o[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);for(c&&c(e);h.length;)h.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={0:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;a.push([94,1]),n()}({47:function(t,e,n){},94:function(t,e,n){"use strict";n.r(e);n(47),n(48),n(62),n(65),n(86);var i=n(0),o=n.n(i);n(46);function a(t,e){var n=document.createElement("canvas");e=e||document.body,n.width=100,n.height=100;var i=n.getContext("2d"),o=new Image;o.src=t,o.onload=function(){i.drawImage(o,0,0,o.width,o.height,0,0,n.width,n.height);var t=function(t){var e,n,i,o,a,r,s,l,u,c,d=t.data,h=t.width,f=t.height,v=[],m=0;for(r=1/(5*Math.sqrt(2*Math.PI)),a=-.02,s=0,e=-10;e<=10;e++,s++)o=r*Math.exp(a*e*e),v[s]=o,m+=o;for(s=0,c=v.length;s<c;s++)v[s]/=m;for(n=0;n<f;n++)for(e=0;e<h;e++){for(i=o=a=r=0,m=0,l=-10;l<=10;l++)(u=e+l)>=0&&u<h&&(i+=d[s=4*(n*h+u)]*v[l+10],o+=d[s+1]*v[l+10],a+=d[s+2]*v[l+10],m+=v[l+10]);d[s=4*(n*h+e)]=i/m,d[s+1]=o/m,d[s+2]=a/m}for(e=0;e<h;e++)for(n=0;n<f;n++){for(i=o=a=r=0,m=0,l=-10;l<=10;l++)(u=n+l)>=0&&u<f&&(i+=d[s=4*(u*h+e)]*v[l+10],o+=d[s+1]*v[l+10],a+=d[s+2]*v[l+10],m+=v[l+10]);d[s=4*(n*h+e)]=i/m,d[s+1]=o/m,d[s+2]=a/m}return t}(i.getImageData(0,0,n.width,n.height));i.putImageData(t,0,0);var a=n.toDataURL();e.style.backgroundImage="url("+a+")"}}n(87);function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,console.log(this.data),this.domList=[],this.dom=n,this.childDom={divList:o()("<div></div>").addClass("list"),dl:o()("<dl></dl>"),close:o()("<div></div>").html("关闭").addClass("close")}}var e,n,i;return e=t,(n=[{key:"start",value:function(){var t=this,e=o()("<dt></dt>").html("播放列表");this.childDom.dl.append(e),this.data.forEach((function(e){var n=o()("<dd></dd>").html(e.name);t.childDom.dl.append(n),t.domList.push(n)})),this.childDom.dl.append(this.childDom.close),this.childDom.divList.append(this.childDom.dl),this.dom.append(this.childDom.divList),this.bindEvent()}},{key:"changeSelect",value:function(t){for(var e=0;e<this.domList.length;e++)this.domList[e].removeClass("active");this.domList[t].addClass("active")}},{key:"bindEvent",value:function(){var t=this,e=this.childDom.divList[0].offsetHeight;this.childDom.close[0].ontouchend=function(){console.log("点击"),t.childDom.divList[0].style.transform="translateY("+e+"px)"}}}])&&r(e.prototype,n),i&&r(e,i),t}();function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.doms={songName:o()(".songInfo .name"),wrap:o()("#wrap"),singer:o()(".songInfo .singer"),album:o()(".songInfo .album"),lis:o()(".control li")}}var e,n,i;return e=t,(n=[{key:"renderImg",value:function(t){a(t),o()(".songImg img").attr("src",t),console.log("randerImg方法被调用")}},{key:"renderInfo",value:function(t){this.doms.songName.html(t.name),this.doms.singer.html(t.singer),this.doms.album.html(t.album),console.log("renderInfo方法被调用")}},{key:"renderIsLike",value:function(t){this.doms.lis[0].className=t?"liking":"",console.log("islike方法被调用")}},{key:"renderList",value:function(t){new s(t,this.doms.wrap).start()}}])&&l(e.prototype,n),i&&l(e,i),t}();function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.audio=new Audio,this.status="pause"}var e,n,i;return e=t,(n=[{key:"load",value:function(t){this.audio.src=t,this.status="pause"}},{key:"play",value:function(){this.audio.play(),this.status="playing"}},{key:"end",value:function(t){this.audio.ended=t}},{key:"pause",value:function(){this.audio.pause(),this.status="pause"}},{key:"skipTo",value:function(t){this.audio.currentTime=t}}])&&c(e.prototype,n),i&&c(e,i),t}();function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.index=0,this.len=e}var e,n,i;return e=t,(n=[{key:"prev",value:function(){return this.get(-1)}},{key:"next",value:function(){return this.get(1)}},{key:"get",value:function(t){return this.index=(this.index+t+this.len)%this.len,this.index}}])&&h(e.prototype,n),i&&h(e,i),t}();function v(t,e,n,i,o,a,r){try{var s=t[a](r),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(i,o)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function r(t){v(a,i,o,r,s,"next",t)}function s(t){v(a,i,o,r,s,"throw",t)}r(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var y=new u,b=new d,k=null;(new(function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;p(this,t),this.doms={lis:o()(".control"),img:o()(".songImg img"),list:null,close:null},this.index=e,this.timer=null,this.data=null}var e,n,i,a;return e=t,(n=[{key:"getMusicData",value:(a=m(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this,o.a.ajax({url:"./mock/data.json",type:"GET",dataType:"json"}).then(function(){var t=m(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.data=n,k=new f(n.length),e.listInfo(n),e.doms.close=o()(".list .close"),e.doms.list=o()(".list"),e.init(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"pageInfo",value:function(t){y.renderImg(t.image),y.renderInfo(t),y.renderIsLike(t.isLike)}},{key:"musicInfo",value:function(t){b.load(t.audioSrc)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.doms.img[0];if("pause"==b.status){o()(this.doms.lis.children(0)[2]).addClass("playing"),b.play();var e=t.dataset.rotate||0;console.log(e),this.rotateImg(t,e)}}},{key:"pause",value:function(){"playing"==b.status&&(o()(this.doms.lis.children(0)[2]).removeClass("playing"),b.pause(),this.stopRotateImg())}},{key:"next",value:function(){this.doms.img[0].dataset.rotate=0,this.init(this.data[k.prev()]),this.stopRotateImg(),this.play()}},{key:"prev",value:function(){this.doms.img[0].dataset.rotate=0,this.init(this.data[k.prev()]),this.stopRotateImg(),this.play()}},{key:"listInfo",value:function(t){y.renderList(t)}},{key:"rotateImg",value:function(t,e){this.timer||(this.timer=setInterval((function(){e=+e+.2,t.style.transform="rotate("+e+"deg)",t.dataset.rotate=e}),1e3/60))}},{key:"stopRotateImg",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"bindEvent",value:function(){var t=this;this.doms.lis.children(0)[0].ontouchend=function(t){console.log("发生了点击");var e=o()(t.target);o()(e).hasClass("liking")?(console.log("在这里"),o()(e).removeClass("liking")):o()(e).addClass("liking")},this.doms.lis.children(0)[1].ontouchend=function(e){console.log("发生了点击"),t.prev()},this.doms.lis.children(0)[2].ontouchend=function(e){console.log("发生了点击"),"playing"==b.status?t.pause():t.play()},this.doms.lis.children(0)[3].ontouchend=function(e){console.log("发生了点击"),t.next()},this.doms.lis.children(0)[4].ontouchend=function(e){t.doms.list[0].style.transform="translateY(0px)"}}},{key:"init",value:function(t){console.log("数据索引"+k.index);var e=t.length>1?t[k.index]:t;b.load(e.audioSrc),this.pageInfo(e),this.musicInfo(e),this.bindEvent()}}])&&g(e.prototype,n),i&&g(e,i),t}())).getMusicData()}});